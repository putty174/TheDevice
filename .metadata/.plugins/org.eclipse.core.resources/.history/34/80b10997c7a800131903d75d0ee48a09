package com.pressx.objects.enemy.projectiles;

import java.util.ArrayList;

import com.badlogic.gdx.math.Vector2;
import com.pressx.control.GameTimer;
import com.pressx.managers.Textures;
import com.pressx.objects.AnimatedObject;
import com.pressx.objects.GameObject;

public class Seed extends AnimatedObject{
	
	GameTimer timeAlive;
	Vector2 direction;
	
	public Seed(GameObject start, GameObject target){
		super("seed", 30, start.get_positionX(), start.get_positionY(), 1, 1, 0, 0, 0, 0,
				false, 0, false, 10, 10, Textures.getArtAsset("plant3"),
				256, 256);
		
		this.animationManager = Textures.getAnimManager("plant3").copy();
		this.animationManager.changeAnimation("Seed");
		this.animationManager.setStdCondition("Seed");
		this.animationManager.setEndCondition("None");
		
		this.timeAlive = new GameTimer(5);
		this.direction = target.get_position().sub(start.get_position());
		
		this.animator = null;
		
	}
	
	@Override
	public void update(float dt, ArrayList<GameObject> objects){
		if(timeAlive.isDone()){
			this.terminate();
		}
		else{
			this.position.add(direction.nor());
			timeAlive.update_timer(dt);
		}
		super.update(dt, objects);
	}
	
}
